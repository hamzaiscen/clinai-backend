// Basit Node.js + OpenAI entegrasyonu const express = require('express'); const bodyParser = require('body-parser'); const { Configuration, OpenAIApi } = require('openai'); const app = express(); app.use(bodyParser.json()); const PORT = process.env.PORT || 3000; // OpenAI API ayarları const configuration = new Configuration({ apiKey: process.env.OPENAI_API_KEY, }); const openai = new OpenAIApi(configuration); // Basit endpoint: mesaj gönder → AI cevabı al app.post('/message', async (req, res) => { try { const { userMessage } = req.body; if (!userMessage) return res.status(400).json({ error: "userMessage boş olamaz" }); const response = await openai.createChatCompletion({ model: "gpt-4", messages: [ { role: "system", content: "Sen bir estetik ve güzellik merkezi için asistan robotusun. Randevu alabilir, satış yapabilir ve müşteri sorularını yanıtlayabilirsin." }, { role: "user", content: userMessage } ], }); const aiMessage = response.data.choices[0].message.content; res.json({ reply: aiMessage }); } catch (error) { console.error(error); res.status(500).json({ error: "AI ile iletişimde hata oluştu" }); } }); // Sunucu başlat app.listen(PORT, () => { console.log(`Server is running on port ${PORT}`); });
